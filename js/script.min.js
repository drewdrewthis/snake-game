/*
 snake-game 2016-02-25 
*/
function quad(a){return $("[data-xcoord="+a[0]+"][data-ycoord="+a[1]+"]")}function makeFruits(){var a=Math.floor(49*Math.random())+1,b=Math.floor(49*Math.random())+1;quad([a,b]).addClass("fruit"),console.log("New Fruit: "+a+","+b)}function setup(){$(".board").html(""),direction="right",snake=[[24,24]],head=snake.length-1,tail=0;for(var a=0;50>a;a++)for(var b=0;50>b;b++)$(".board").append('<div class="quadrant" data-xcoord="'+b+'" data-ycoord="'+a+'"></div>');makeFruits(),quad(snake[0]).addClass("snake")}function isOver(a){return a[0]>=50||a[1]>=50||a[0]<0||a[1]<0?!0:!1}function growSnake(a){snake.push(a),head=snake.length-1}function isFruit(a){return quad(a).hasClass("fruit")?!0:!1}function progress_snake(a){var b=a[head][0],c=a[head][1],d=[b,c];switch(direction){case"left":d[0]--;break;case"up":d[1]--;break;case"right":d[0]++;break;case"down":d[1]++}var e=setTimeout(function(){if(isOver(a[head]))clearTimeout(e),console.log("Over! "+b+","+c);else{if(isFruit(d))quad(d).removeClass("fruit"),makeFruits(),growSnake(d);else{quad(a[0]).removeClass("snake");for(var f=0;f<a.length-1;f++)a[f]=a[f+1];a[head]=d}quad(a[head]).addClass("snake"),progress_snake(a)}},100)}var direction="right",snake=[],head=1;$(document).ready(function(){setup(),progress_snake(snake)}),$(document).keydown(function(a){switch(a.which){case 37:"right"!=direction&&(direction="left");break;case 38:"down"!=direction&&(direction="up");break;case 39:"left"!=direction&&(direction="right");break;case 40:"up"!=direction&&(direction="down");break;default:return}a.preventDefault()});